{"version":3,"file":"extra.umd.js","sources":["../scripts/dom.js","../scripts/toolbox.js","../scripts/version_dropdown.js","../scripts/links.js","../scripts/page_actions.js","../scripts/extra.js"],"sourcesContent":["\"use strict\";\nexport {DOM, Animate}\n\n/** Make DOM element*/\nclass DOM {\n  constructor (dom, tags){\n    this.$\n    if (typeof dom != 'string'){\n      this.$ = dom\n      return\n    }\n    this.$ = document.createElement(dom);\n    if (typeof tags == 'object') for (const tag in tags) {\n      if (tag in this.$)\n        this.$[tag] = tags[tag]\n      else\n        this.$.dataset[tag] = tags[tag]\n    }\n  }\n  /**\n   * Clone node\n   * @param {bool} deep - If true, then the node and its whole subtree,\n   * including text that may be in child Text nodes, is also copied.\n   */\n  cloneNode (deep){\n    let node = new DOM(this.$.cloneNode(deep))\n    return node\n  }\n  /**\n   * Set DOM innerText.\n   * @param {string} str - Text to apply.\n   */\n  set innerText(str){\n    this.$.innerText = str\n  }\n  /**\n   * Get DOM innerText.\n   */\n  get innerText(){\n    return this.$.innerText\n  }\n  /** Get DOM offset height */\n  get height (){\n    return this.$.offsetHeight\n  }\n  /** Get DOM offset width */\n  get width (){\n    return this.$.offsetWidth\n  }\n  /** Get DOM id */\n  get id (){\n    return this.$.id\n  }\n  /** Set DOM id */\n  set id (str){\n    this.$.id= str\n  }\n  /** Get DOM value */\n  get value (){\n    return this.$.value\n  }\n  /** Set DOM value */\n  set value (str){\n    this.$.value = str\n  }\n  /** Get DOM src */\n  get src (){\n    return this.$.src\n  }\n  /** Set DOM src */\n  set src (str){\n    this.$.src = str\n  }\n  /**\n   * Focus on DOM.\n   */\n  focus (){\n    this.$.focus()\n  }\n  /** Get DOM classList object. */\n  get classList(){\n    return this.$.classList\n  }\n  /** Get DOM style object. */\n  get style(){\n    return this.$.style\n  }\n  /**\n   * Append a ``onchange`` event.\n   * @param {function} ev - Function to be executed on click.\n   */\n  onchange (self, ev, args){\n    this.$.onchange = (e) => {\n      if (typeof args == 'undefined')\n        ev.apply(self, [e])\n      else if (args.constructor == Array) {\n        args.push(e)\n        ev.apply(self, args)\n      }\n    }\n    return this\n  }\n  /**\n   * Append a ``onclick`` event.\n   * @param {function} ev - Function to be executed on click.\n   */\n  onclick (self, ev, args){\n    this.$.onclick = (e) => {\n      if (typeof args == 'undefined')\n        ev.apply(self, [e])\n      else if (args.constructor == Array) {\n        args.push(e)\n        ev.apply(self, args)\n      }\n    }\n    return this\n  }\n  /**\n   * Append a ``mouseup`` and ``touchup`` event.\n   * @param {function} ev - Function to be executed on up.\n   */\n  onup (self, ev, args){\n    this.$.addEventListener('mouseup', (e) => {\n      if (typeof args == 'undefined')\n        ev.apply(self, [e])\n      else if (args.constructor == Array) {\n        args.push(e)\n        ev.apply(self, args)\n      }\n    })\n    return this\n  }\n  /**\n   * Append a ``mousedown`` and ``touchdown`` event.\n   * @param {function} ev - Function to be executed on down.\n   */\n  ondown (self, ev, args){\n    this.$.addEventListener('mousedown', (e) => {\n      if (typeof args == 'undefined')\n        ev.apply(self, [e])\n      else if (args.constructor == Array) {\n        args.push(e)\n        ev.apply(self, args)\n      }\n    })\n    return this\n  }\n  /**\n   * Append a ``mousemove`` and ``touchmove`` event.\n   * @param {function} ev - Function to be executed on move.\n   */\n  onmove (self, ev, args){\n    this.$.addEventListener('mousemove', (e) => {\n      if (typeof args == 'undefined')\n        ev.apply(self, [e])\n      else if (args.constructor == Array) {\n        args.push(e)\n        ev.apply(self, args)\n      }\n    })\n    return this\n  }\n  /**\n   * Append a event listener.\n   * @param {string} event - Event listener name.\n   * @param {function} fun - Function to be executed on move.\n   * @param {function} args - Arguments to be applied to the function.\n   */\n  onevent (event, self, fun, args){\n    this.$.addEventListener(event, (e) => {\n      if (typeof args == 'undefined')\n        fun.apply(self, [e])\n      else if (args.constructor == Array) {\n        args.push(e)\n        fun.apply(self, args)\n      }\n    })\n    return this\n  }\n  /**\n   * Appends others :js:func:`DOM`.\n   * @param {Object[]} DOMS - Array of :js:func:`DOM` or/and direct DOM Nodes.\n   */\n  append (DOMS){\n    if (DOMS.constructor != Array)\n      DOMS = [DOMS]\n\n    DOMS.forEach ((item) => {\n      if (/HTML(.*)Element/.test(item.constructor.name))\n        this.$.appendChild(item)\n      else if (typeof item == 'object' &&\n               /HTML(.*)Element/.test(item.$.constructor.name))\n        this.$.appendChild(item.$)\n    })\n\n    return this\n  }\n  /**\n   * Delete object.\n   */\n  delete (){\n    this.$.remove()\n    delete this\n  }\n  /**\n   * Remove childs from :js:func:`DOM` object.\n   */\n  removeChilds (){\n    let child = this.$.lastElementChild\n    while (child) {\n      this.$.removeChild(child)\n      child = this.$.lastElementChild\n    }\n    return this\n  }\n  /**\n   * Get DOM Node element.\n   * @param {string} a - Target object query selector.\n   * @param {Object} b - Optional parent DOM.\n   */\n  static get (a, b){\n    b = b instanceof DOM ? b.$ : b\n    return (typeof b == 'undefined') ? document.querySelector (a) : b.querySelector(a)\n  }\n  /**\n   * Get all DOM Node elements.\n   * @param {string} a - Target object query selector.\n   * @param {Object} b - Parent DOM.\n   */\n  static getAll(a, b){\n    b = b instanceof DOM ? b.$ : b\n    return (typeof b == 'object') ? b.querySelectorAll(a) : get(b).querySelectorAll(a)\n  }\n  /**\n   * Include or remove a class to a DOM.\n   * @param {Object} b - Target DOM.\n   * @param {string} _class - Optional class, defaults to `on`.\n   */\n  static switchState (b, _class){\n    b = b instanceof DOM ? b.$ : b\n    let cn = _class != undefined ? _class : `on`\n    if (b.classList.contains(cn))\n      b.classList.remove(cn)\n    else\n      b.classList.add(cn)\n  }\n  /**\n  * Generate a unique identifier.\n  */\n  static UID (){\n    return (+new Date).toString(36) + Math.random().toString(36).substr(2)\n  }\n  /**\n   * Prototype a DOM composed by details, sumamary and a h2 title with optional\n   * onclick event.\n   * @param {Object} str - id, title and onclick function of the DOM element.\n   * @param {string} str.id - Id of the DOM element.\n   * @param {string} str.title - Title of the DOM element.\n   * @param {Object} str.onclick - Onclick function of the DOM element.\n   */\n  static prototypeDetails (str){\n    let summary = new DOM('summary', {innerText:str.innerText})\n    let details = new DOM('details', {id:str.id, name:str.id})\n      .append(summary)\n\n    if (str.onevent != undefined) {\n      str.onevent.forEach(event => {\n        event.args.push(details.$)\n        summary.onevent(\n          event.event,\n          event.self,\n          event.fun,\n          event.args\n        )\n      })\n    }\n    return details\n  }\n  /**\n   * Prototype a DOM composed by input(file type) and label.\n   * @param {Object} str - id, className and innerText of the DOM element.\n   * @param {string} str.id - Id of the DOM element.\n   * @param {string} str.className - ClassName of the DOM element.\n   * @param {string} str.innerText - Inner text of the DOM element.\n   */\n  static prototypeInputFile (str){\n    return new DOM('label', {\n      htmlFor:`${str.id}_input`,\n      id:str.id,\n      className:str.className,\n      innerText:str.innerText\n      }).append(\n        new DOM('input', {id:`${str.id}_input`, type:'file'})\n      )\n  }\n  /**\n   * Prototype a DOM composed by input(checkbox) and label styled as as switch.\n   * @param {Object} str - id, className and innerText of the DOM element.\n   * @param {string} str.id - Id of the DOM element.\n   * @param {string} str.className - ClassName of the DOM element.\n   * @param {string} str.innerText - Inner text of the DOM element.\n   * @returns Array with input and container.\n   */\n  static prototypeCheckSwitch (str){\n    let input = new DOM('input', {\n      id:str.id,\n      name:str.id,\n      className:'checkswitch',\n      type:'checkbox',\n      value:false\n    })\n\n    let container = new DOM('div', {className:str.className})\n      .append([\n        new DOM('div')\n          .append([\n            new DOM('label', {\n                className:'checkswitch',\n                htmlFor:str.id,\n                innerText:str.innerText\n              }).append([\n                input,\n                new DOM('span')\n              ])\n          ])\n      ])\n\n    return [input, container]\n  }\n  /**\n   * Prototype a DOM that allows data to be downloded on its creation.\n   * @param {string} filename - name of the file.\n   * @param {string} file - file content.\n   */\n  static prototypeDownload (filename, file){\n    let data,\n        reg = /.*\\.(py|xml|csv|json|svg|png)$/\n    if (!reg.test(filename))\n      return\n\n    let format = filename.match(reg)[1]\n    filename = filename\n      .replaceAll('/','-')\n      .replaceAll(' ','_')\n      .toLowerCase()\n\n    switch (format) {\n      case 'xml':\n        data = \"data:x-application/xml;charset=utf-8,\" + encodeURIComponent(file);\n        break\n      case 'py':\n        data = \"data:text/python;charset=utf-8,\" + encodeURIComponent(file);\n        break\n      case 'json':\n        data = \"data:text/json;charset=utf-8,\" + encodeURIComponent(file);\n        break\n      case 'csv':\n        data = \"data:text/csv;charset=utf-8,\" + encodeURIComponent(file);\n        break\n      case 'svg':\n        data = \"data:image/svg+xml;charset=utf-8,\" + encodeURIComponent(file);\n        break\n      case 'png':\n        data = file; // Expect already in blob\n        break\n    }\n    let element = document.createElement('a')\n    element.setAttribute('href', data)\n    element.setAttribute('download', filename)\n    element.style.display = 'none'\n\n    document.body.appendChild(element)\n    element.click ()\n    document.body.removeChild(element)\n  }\n  /**\n   * Set a option of a select list by its innerText.\n   * @param {Object} dom - Node of the select list.\n   * @param {string} value - Inner text of the target option.\n   */\n  static setSelected (dom, value){\n    for (var i = 0; i < dom.$.options.length; i++){\n      if (dom.$.options[i].text == value){\n        dom.$.options[i].selected = true\n        return\n      }\n    }\n  }\n  /**\n   * Updates parameter of children of a DOM.\n   * Lazy because doesn't care is successful or not.\n   * Useful for generic lists, like in searches.\n   * @param {Object} dom - Container of the list.\n   * @param {string} uid - Item to search for.\n   * @param {Object} props - Properties to update, where the key is also the DOM id.\n   * @param {string} param - Parameter to update.\n   */\n  static lazyUpdate (dom, uid, props, param){\n    param = param == undefined ? 'innerText' : param\n    let element = DOM.get(`[data-uid='${uid}']`, dom)\n    for (const key in props){\n      DOM.get(`#${key}`, element)[param] = props[key]\n    }\n  }\n}\n","\"use strict\";\n\nexport {Toolbox}\n\n/**\n * Provides useful generic functions.\n */\nclass Toolbox {\n  /**\n   * Get random char.\n   */\n  static randomChar () {\n    const alphabet = \"abcdefghijklmnopqrstuvwxyz\"\n    return alphabet[Math.floor(Math.random() * alphabet.length)]\n  }\n /**\n  * Generate a unique identifier.\n  */\n  static UID () {\n    return this.randomChar() + (+new Date).toString(36) + Math.random().toString(36).substring(3)\n  }\n /**\n  * Generate a small non-timed identifier.\n  */\n  static SID () {\n    return this.randomChar() + (Math.random()).toString(36).substring(3,8)\n  }\n  /**\n   * Return param from url search parami, if unset, return the default.\n   * @param {string} _param - Parameter to search in the array.\n   * @return Requested parameter.\n   */\n  static fromUrl (_param) {\n    let param = new URLSearchParams(document.location.search)\n    return param.get(_param) == null ?\n      this.urlDefaults(_param) : this.urlValidParams(_param, param.get(_param))\n  }\n  /**\n   * Default url parameters values if not set\n   * @param {string} _param - Parameter to return the default.\n   * @return Default parameter.\n   */\n  static urlDefaults (_param) {\n    switch (_param) {\n      case 'theme':\n        return 'light'\n    }\n  }\n  /**\n   * Valid parameters, if a invalid is passed, will return the default.\n   */\n  static urlValidParams (_param, value) {\n    switch (_param) {\n      case 'theme':\n        return ['dark', 'light'].includes(value) ? value : this.urlDefaults(_param)\n    }\n  }\n  static cleanPathname (_pathname) {\n    return _pathname.replace(/([^:]\\/)\\/+/g, \"$1\").replace(/[^:]\\.\\//g, \"$1\")\n  }\n  /**\n   * Get the depth of a path name.\n   */\n  static getDepth (_pathname) {\n    return (_pathname.match(/\\//g)||[]).length\n  }\n  /*\n   * Check if link exists, if not, redirect to second option.\n   */\n  static async try_redirect (url, fallback_url) {\n    try {\n      const response = await fetch(url, {\n        method: 'HEAD'\n      })\n\n      if (response.status === 404)\n        console.log(fallback_url)\n      else\n        location.href = url\n    } catch (e) {\n      location.href = fallback_url\n    }\n    return\n  }\n  /*\n   * Try to fetch every item in array.\n   */\n  static async fetch_each (urls) {\n    for (let url of urls) {\n      try {\n        const response = await fetch(url, {\n          method: 'Get',\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        })\n\n        if (response.ok === true)\n          return {'obj': await response.json(), 'url': url};\n        else if (response.status !== 404)\n          return {'error': response, 'url': url}\n      } catch (e) {\n        return {'error': e, 'url': url}\n      }\n    }\n\n    return {'error': `No url returned a valid JSON, urls: ${urls}`}\n  }\n  static cache_check (state, fetch_url, hours, callback) {\n    if (!Array.isArray(fetch_url))\n      fetch_url = [fetch_url]\n\n    let cache_key = fetch_url[0]\n    let json = localStorage.getItem(cache_key)\n    if (json !== null)\n      json = JSON.parse(json)\n\n    let cache_timeout = new Date(0)\n    cache_timeout.setHours(hours)\n    if (state.reloaded === true || json === null || json['timestamp'] + cache_timeout.valueOf() < Date.now()) {\n      Toolbox.fetch_each(fetch_url).then((json) => {\n        if ('error' in json) {\n          console.error(`Failed to fetch resource, due to:`, json['error'])\n          return\n        }\n\n        json['timestamp'] = Date.now()\n        callback(json)\n        localStorage.setItem(cache_key, JSON.stringify(json))\n      })\n    } else {\n      callback(json)\n    }\n  }\n}\n","\"use strict\";\nimport {DOM} from './dom.js'\nimport {Toolbox} from './toolbox.js'\n\n/**\n * Fetches the tags.json file and renders a dropdown.\n */\nexport class VersionDropdown {\n  constructor (app) {\n    this.$ = {}\n\n    this.parent = app\n    this.fetch_tags()\n  }\n\n  fetch_tags () {\n    // Maybe use /current_host/tags.json instead ?\n    Toolbox.cache_check(this.parent.state,\n                        `/${this.parent.state.repository}/tags.json`, 2,\n                        (obj) => {this.render(obj['obj'])})\n  }\n  /**\n   * Assert if tags.json is valid\n   */\n  assert (obj) {\n    let assert_string = (arr) => {\n      return arr.every(item => typeof item === \"string\")\n    }\n\n    if (Array.isArray(obj)) {\n      /* Mode one: simple array of versions */\n      if (!assert_string(obj)) {\n        console.warn(\"version_dropdown: expected array of strings, got \", obj)\n        return true\n      }\n      return \"string-array\"\n    } else if (Object.prototype.toString.call(obj) === '[object Object]') {\n      /* Mode two: elaborated version */\n      for (let key in obj) {\n        if (!Array.isArray(obj[key])) {\n          console.warn(\"version_dropdown: expected array, got \", obj[key])\n          return true\n        } else if (obj[key].length !== 2) {\n          console.warn(`version_dropdown: expected two items, got ${obj[key].length}`, obj[key])\n          return true\n        }\n      }\n      return \"fine-grained\"\n    }\n\n    console.warn(\"version_dropdown: expected object of arrays or array of strings, got \", obj)\n\n    return true\n  }\n  /**\n   * Convert string array of versions into object.\n   */\n  string_array_to_object (obj) {\n    let obj_ = {}\n\n    obj.forEach((item) => {\n      obj_[item] = [item, \"\"]\n    })\n\n    if (\"\" in obj_)\n      obj_[\"\"] = [\"main\", \"unstable\"]\n\n    for (const key in obj_) {\n      obj_[key] = [obj_[key][0], \"latest\"]\n      break\n    }\n\n    return obj_\n  }\n  /**\n   * Create Tag/Version dropdown at the left sidebar.\n   */\n  render (obj) {\n    let version = this.parent.state.version\n    let path = this.parent.state.path\n    let label = ''\n    let mode = this.assert(obj)\n    if (mode === true)\n      return\n    else if (mode == \"string-array\")\n      obj = this.string_array_to_object(obj)\n\n    let toc_tree = DOM.get('.sphinxsidebarwrapper .toc-tree')\n    let nav_bar = DOM.get('header #right .reverse')\n    let body = DOM.get('body')\n\n    let i = Object.keys(obj).length > 10 ? 4 : 2\n    let cols = \" auto\".repeat(i)\n    let container2 = new DOM('div', {\n      'className': 'version-dropdown-list',\n      'style': `grid-template-columns:${cols}`\n    })\n\n    if (obj.hasOwnProperty(path)) {\n      label = obj[path][1]\n      version = obj[path][0]\n    } else {\n      console.warn(`version_dropdown: current path ${path} is not in the tags.json`, obj)\n    }\n\n    for (let key in obj) {\n      let entry = new DOM('a', {\n        'href': `/${this.parent.state.repository}/${key}`\n      })\n      entry.onclick (this, (self, e) => {\n        e.preventDefault()\n        let start = `/${app.state.repository}/${app.state.path}`,\n            og_url = location.pathname + location.hash\n        if (og_url.startsWith(start)) {\n          let url = self.$.href + og_url.substring(start.length)\n          Toolbox.try_redirect(url, self.$.href)\n        } else {\n          location.url(self.$.url)\n        }\n      }, [entry])\n      let entry_ = new DOM('div')\n      let label_ = new DOM('div')\n      entry_.innerText = obj[key][0]\n      let label = new DOM('span', {\n        'className': obj[key][1] === '' ? \"\" : \"label\"\n      })\n      label.innerText = obj[key][1]\n      label_.append(label)\n      entry.append(entry_)\n      entry.append(label_)\n      container2.append(entry)\n    }\n    let cancel_dropdown = new DOM('dev', {\n      'id': 'cancel-area-show-version-dropdown'\n    })\n    body.append(cancel_dropdown.$)\n    body.append(container2.$)\n\n    let container = new DOM('div', {\n      'className': 'version-dropdown',\n      'title': 'Change version'\n    })\n    container.innerText = version\n    let label_ = new DOM('span', {\n      'className': label === '' ? \"\" : \"label\"\n    })\n    label_.innerText = label\n    container.append(label_)\n\n    toc_tree.insertAdjacentElement('afterbegin', container.$)\n    let container3 = new DOM(container.$.cloneNode(true))\n\n    container.onclick(this, this.show, [true])\n    container3.onclick(this, this.show, [true])\n    cancel_dropdown.onclick(this, this.show, [true])\n    nav_bar.append(container3.$)\n\n    this.$.list = container2\n    this.$.cancel= cancel_dropdown\n  }\n  show (d) {\n    DOM.switchState(this.$.cancel)\n    DOM.switchState(this.$.list)\n  }\n}\n","\"use strict\";\nimport {DOM} from './dom.js'\nimport {Toolbox} from './toolbox.js'\n\n/**\n * Updates dynamic  links, banners with content from metadata.json.\n */\nexport class Links {\n  constructor (app) {\n    this.$ = {}\n\n    this.set_doms()\n    this.parent = app\n\n    let m = app.state.metadata\n    if ('repotoc' in m)\n      this.update_repotoc(m['repotoc'])\n    if ('banner' in m)\n      this.update_banner(m['banner'])\n  }\n  set_doms () {\n    let $ = this.$\n\n    $.repotocTreeOverlay = new DOM(DOM.get('.repotoc-tree.overlay root'))\n    $.repotocTreeSidebar = new DOM(DOM.get('.sphinxsidebar .repotoc-tree root'))\n    $.banner = new DOM('div', {\n      className: 'banner'\n    })\n    DOM.get('body').prepend($.banner.$)\n  }\n\n  update_repotoc (obj) {\n    let $ = this.$\n\n    let home = \"index.html\"\n    let linksOverlay = [],\n        linksSidebar = []\n    for (const [key, value] of Object.entries(obj)) {\n      if (!('name' in value))\n        continue\n\n      let base = key == this.parent.state.repository ?\n                 this.parent.state.content_root :\n                 `/${key}/`\n      linksSidebar.push(new DOM('a', {\n        'href': `${base}${home}`,\n        'className': this.parent.state.repository === key ? 'current' : '',\n        'innerText': value['name']\n      }))\n    }\n\n    linksSidebar.forEach((elem) => {\n      linksOverlay.push(elem.cloneNode(true))\n    })\n\n    if ($.repotocTreeOverlay.$)\n      $.repotocTreeOverlay.removeChilds(),\n      $.repotocTreeOverlay.append(linksOverlay)\n    if ($.repotocTreeSidebar.$)\n      $.repotocTreeSidebar.removeChilds(),\n      $.repotocTreeSidebar.append(linksSidebar)\n  }\n\n  update_banner (obj) {\n    let $ = this.$\n\n    if ('msg' in obj)\n      $.banner.append(new DOM('span', {\n        'innerText': obj['msg']\n      }))\n\n    if ('a_href' in obj && 'a_text' in obj)\n      $.banner.append(new DOM('a', {\n        'href': obj['a_href'],\n        'innerText': obj['a_text'],\n        'target': '_blank'\n      }))\n  }\n}\n","\"use strict\";\nimport {DOM} from './dom.js'\n\n/**\n * Shows page actions buttons to the right side of the title.\n * The actions are:\n * * An edit page button to open the page source code on the git hosting website.\n */\nexport class PageActions {\n  constructor (app) {\n    this.$ = {}\n\n    this.parent = app\n    this.page_source()\n  }\n\n  page_source_sanity (m, r) {\n    if (!m.hasOwnProperty('source_hostname')) {\n      console.warn(\"edit_source: 'source_hostname' missing from metadata\", m)\n      return\n    }\n\n    if (!m['repotoc'].hasOwnProperty(r)) {\n      // The repo may not have been added yet\n      console.log(`edit_source: repository '${r}' not in metadata`)\n      return\n    }\n\n    if (!m['repotoc'][r].hasOwnProperty('pathname')) {\n      console.warn(`edit_source: 'pathname' missing from entry '${r}'`)\n      return\n    }\n\n    if (!m['repotoc'][r].hasOwnProperty('branch')) {\n      console.warn(`edit_source: 'branch' missing from entry '${r}'`)\n      return\n    }\n  }\n  /*\n   * Don't show page source buttom on some pages.\n   */\n  page_source_ignore () {\n    // Search page\n    if (document.querySelector(\"#search-documentation\") !== null)\n      return true\n\n    return false\n  }\n\n  draw_page_source (url) {\n    let container = new DOM('div', {\n      'className': 'page-actions'\n    })\n    let edit_button = new DOM('a', {\n      'className': 'edit-source',\n      'title': 'See and edit this page source',\n      'href': url,\n      'target': 'blank'\n    })\n    container.append(edit_button.$)\n\n    let doc = DOM.get('.bodywrapper .body-header')\n    if (doc === null) {\n      doc =  DOM.get('.bodywrapper .body')\n      doc.insertAdjacentElement('afterbegin', container.$)\n    } else {\n      doc.insertAdjacentElement('beforeend', container.$)\n    }\n  }\n\n  page_source () {\n    let m = this.parent.state.metadata\n    let r = this.parent.state.repository\n\n    if (this.page_source_sanity(m, r))\n      return\n\n    if (this.page_source_ignore())\n      return\n\n    let tgt = m.source_hostname.replace('{repository}', r)\n                               .replace('{branch}', m['repotoc'][r]['branch'])\n                               .replace('{pathname}', m['repotoc'][r]['pathname']),\n        path = new URL(location.pathname, location.origin).href,\n        base = new URL(this.parent.state.content_root, path).href\n\n    let pathname = path.substring(base.length)\n\n    if (pathname.endsWith('.html'))\n      pathname = pathname.replace(/\\.html$/i, '.rst')\n    else\n      pathname = pathname.concat('index.rst')\n\n    tgt = tgt.concat('/', pathname)\n\n    this.draw_page_source(tgt)\n  }\n}\n","import { VersionDropdown } from './version_dropdown.js'\nimport { Links } from './links.js'\nimport { PageActions } from './page_actions.js'\n\nexport default function Extra (){\n   new VersionDropdown(app)\n   new Links(app)\n   new PageActions(app)\n}\n\nExtra()\n"],"names":["DOM","constructor","dom","tags","this","$","document","createElement","tag","dataset","cloneNode","deep","innerText","str","height","offsetHeight","width","offsetWidth","id","value","src","focus","classList","style","onchange","self","ev","args","e","apply","Array","push","onclick","onup","addEventListener","ondown","onmove","onevent","event","fun","append","DOMS","forEach","item","test","name","appendChild","remove","removeChilds","child","lastElementChild","removeChild","get","a","b","querySelector","getAll","querySelectorAll","switchState","_class","cn","undefined","contains","add","UID","Date","toString","Math","random","substr","prototypeDetails","summary","details","prototypeInputFile","htmlFor","className","type","prototypeCheckSwitch","input","prototypeDownload","filename","file","data","reg","format","match","replaceAll","toLowerCase","encodeURIComponent","element","setAttribute","display","body","click","setSelected","i","options","length","text","selected","lazyUpdate","uid","props","param","key","Toolbox","randomChar","alphabet","floor","substring","SID","fromUrl","_param","URLSearchParams","location","search","urlDefaults","urlValidParams","includes","cleanPathname","_pathname","replace","getDepth","try_redirect","url","fallback_url","fetch","method","status","console","log","href","fetch_each","urls","response","headers","ok","obj","json","error","cache_check","state","fetch_url","hours","callback","isArray","cache_key","localStorage","getItem","JSON","parse","cache_timeout","setHours","reloaded","valueOf","now","then","setItem","stringify","VersionDropdown","app","parent","fetch_tags","repository","render","assert","every","warn","Object","prototype","call","string_array_to_object","obj_","version","path","label","mode","toc_tree","nav_bar","keys","cols","repeat","container2","hasOwnProperty","entry","preventDefault","start","og_url","pathname","hash","startsWith","entry_","label_","cancel_dropdown","container","title","insertAdjacentElement","container3","show","list","cancel","d","Links","set_doms","m","metadata","update_repotoc","update_banner","repotocTreeOverlay","repotocTreeSidebar","banner","prepend","linksOverlay","linksSidebar","entries","base","content_root","elem","target","PageActions","page_source","page_source_sanity","r","page_source_ignore","draw_page_source","edit_button","doc","tgt","source_hostname","URL","origin","endsWith","concat","Extra"],"mappings":"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"}