!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).App=t()}(this,(function(){"use strict";class e{constructor(e,t){if(this.$,"string"==typeof e){if(this.$=document.createElement(e),"object"==typeof t)for(const e in t)e in this.$?this.$[e]=t[e]:this.$.dataset[e]=t[e]}else this.$=e}cloneNode(t){return new e(this.$.cloneNode(t))}set innerText(e){this.$.innerText=e}get innerText(){return this.$.innerText}get height(){return this.$.offsetHeight}get width(){return this.$.offsetWidth}get id(){return this.$.id}set id(e){this.$.id=e}get value(){return this.$.value}set value(e){this.$.value=e}get src(){return this.$.src}set src(e){this.$.src=e}focus(){this.$.focus()}get classList(){return this.$.classList}get style(){return this.$.style}onchange(e,t,n){return this.$.onchange=r=>{void 0===n?t.apply(e,[r]):n.constructor==Array&&(n.push(r),t.apply(e,n))},this}onclick(e,t,n){return this.$.onclick=r=>{void 0===n?t.apply(e,[r]):n.constructor==Array&&(n.push(r),t.apply(e,n))},this}onup(e,t,n){return this.$.addEventListener("mouseup",(r=>{void 0===n?t.apply(e,[r]):n.constructor==Array&&(n.push(r),t.apply(e,n))})),this}ondown(e,t,n){return this.$.addEventListener("mousedown",(r=>{void 0===n?t.apply(e,[r]):n.constructor==Array&&(n.push(r),t.apply(e,n))})),this}onmove(e,t,n){return this.$.addEventListener("mousemove",(r=>{void 0===n?t.apply(e,[r]):n.constructor==Array&&(n.push(r),t.apply(e,n))})),this}onevent(e,t,n,r){return this.$.addEventListener(e,(e=>{void 0===r?n.apply(t,[e]):r.constructor==Array&&(r.push(e),n.apply(t,r))})),this}append(e){return e.constructor!=Array&&(e=[e]),e.forEach((e=>{/HTML(.*)Element/.test(e.constructor.name)?this.$.appendChild(e):"object"==typeof e&&/HTML(.*)Element/.test(e.$.constructor.name)&&this.$.appendChild(e.$)})),this}delete(){this.$.remove()}removeChilds(){let e=this.$.lastElementChild;for(;e;)this.$.removeChild(e),e=this.$.lastElementChild;return this}static get(t,n){return void 0===(n=n instanceof e?n.$:n)?document.querySelector(t):n.querySelector(t)}static getAll(t,n){return"object"==typeof(n=n instanceof e?n.$:n)?n.querySelectorAll(t):get(n).querySelectorAll(t)}static switchState(t,n){let r=null!=n?n:"on";(t=t instanceof e?t.$:t).classList.contains(r)?t.classList.remove(r):t.classList.add(r)}static UID(){return(+new Date).toString(36)+Math.random().toString(36).substr(2)}static prototypeDetails(t){let n=new e("summary",{innerText:t.innerText}),r=new e("details",{id:t.id,name:t.id}).append(n);return null!=t.onevent&&t.onevent.forEach((e=>{e.args.push(r.$),n.onevent(e.event,e.self,e.fun,e.args)})),r}static prototypeInputFile(t){return new e("label",{htmlFor:`${t.id}_input`,id:t.id,className:t.className,innerText:t.innerText}).append(new e("input",{id:`${t.id}_input`,type:"file"}))}static prototypeCheckSwitch(t){let n=new e("input",{id:t.id,name:t.id,className:"checkswitch",type:"checkbox",value:!1});return[n,new e("div",{className:t.className}).append([new e("div").append([new e("label",{className:"checkswitch",htmlFor:t.id,innerText:t.innerText}).append([n,new e("span")])])])]}static prototypeDownload(e,t){let n,r=/.*\.(py|xml|csv|json|svg|png)$/;if(!r.test(e))return;let o=e.match(r)[1];switch(e=e.replaceAll("/","-").replaceAll(" ","_").toLowerCase(),o){case"xml":n="data:x-application/xml;charset=utf-8,"+encodeURIComponent(t);break;case"py":n="data:text/python;charset=utf-8,"+encodeURIComponent(t);break;case"json":n="data:text/json;charset=utf-8,"+encodeURIComponent(t);break;case"csv":n="data:text/csv;charset=utf-8,"+encodeURIComponent(t);break;case"svg":n="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(t);break;case"png":n=t}let s=document.createElement("a");s.setAttribute("href",n),s.setAttribute("download",e),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)}static setSelected(e,t){for(var n=0;n<e.$.options.length;n++)if(e.$.options[n].text==t)return void(e.$.options[n].selected=!0)}static lazyUpdate(t,n,r,o){o=null==o?"innerText":o;let s=e.get(`[data-uid='${n}']`,t);for(const t in r)e.get(`#${t}`,s)[o]=r[t]}}let t=new class{constructor(){this.portrait=!1,this.offline="file:"==window.location.protocol,this.currentTheme=localStorage.getItem("theme"),this.contentRoot=this.getContentRoot(),this.globalRoot=this.getGlobalRoot(),this.scrollSpy={localtoc:new Map,currentLocaltoc:void 0};let t=document.querySelector('meta[name="repo"]');this.repo=t?t.content.split("/"):[""];let n=this.$={};n.body=new e(e.get("body")),n.content=new e(e.get(".body section")),n.localtoc=new e(e.get(".tocwrapper > nav > ul > li")),this.initScrollSpy(),null===this.currentTheme&&(this.currentTheme=this.getOSTheme()),n.body.classList.add("js-on"),this.currentTheme!==this.getOSTheme()&&n.body.classList.add(this.currentTheme),n.searchButton=new e("button",{id:"search",className:"icon",title:"Search (/)"}).onclick(this,(()=>{e.switchState(n.searchArea),e.switchState(n.searchAreaBg),n.searchInput.focus(),n.searchInput.$.select()})),n.changeTheme=new e("button",{className:"dark"===this.currentTheme?"icon on":"icon",id:"theme",title:"Switch theme"}).onclick(this,(()=>{n.body.classList.remove(this.currentTheme),this.currentTheme="dark"===this.currentTheme?"light":"dark",this.getOSTheme()==this.currentTheme?localStorage.removeItem("theme"):(localStorage.setItem("theme",this.currentTheme),n.body.classList.add(this.currentTheme))})),n.searchAreaBg=new e("div",{className:"search-area-bg"}).onclick(this,(()=>{e.switchState(n.searchArea),e.switchState(n.searchAreaBg)})),n.searchArea=new e(e.get(".search-area")),n.searchForm=new e(e.get("form",n.searchArea)),n.searchInput=new e(e.get("input",n.searchForm)),n.searchForm.$.action=e.get('link[rel="search"]').href,n.body.append([n.searchAreaBg]),n.rightHeader=new e(e.get("header #right span.reverse")).append([n.changeTheme,n.searchButton]),n.relatedNext=e.get(".related .next"),n.relatedPrev=e.get(".related .prev")}initScrollSpy(){null!==this.$.localtoc.$&&this.prepareLocaltocMap()}prepareLocaltocMap(){let t="",n=this.scrollSpy.localtoc,r=0;e.getAll(".reference.internal",this.$.localtoc).forEach((e=>{t=`${r}_${e.textContent}`,n.set(t,[e,void 0]),r+=1}));let o=[];for(let t=0;t<7;t++)o.push(...e.getAll(`section > h${t}`,this.$.content));o=o.sort(((e,t)=>e.getBoundingClientRect().y-t.getBoundingClientRect().y)),r=0,o.forEach((e=>{t=e.textContent,t=`${r}_${t}`,n.has(t)&&(n.set(t,[n.get(t)[0],e]),r+=1)})),n.forEach(((e,t,n)=>{void 0===e[1]&&n.delete(t)}))}handleResize(){this.portrait=window.innerHeight>window.innerWidth}handleScroll(){if(null!==this.$.localtoc.$){let e,t,n,r,o=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,a=this.scrollSpy.localtoc;if(a.forEach(((n,a,i)=>{r=n[1].getBoundingClientRect().y,r<=0?r>s&&(s=r,e=a):r<o&&(o=r,t=a)})),n=o<80?t:e,void 0!==n){let e=this.scrollSpy.currentLocaltoc;n!==e&&(a.get(n)[0].classList.add("current"),void 0!==e&&a.get(e)[0].classList.remove("current"),this.scrollSpy.currentLocaltoc=n)}}}getContentRoot(){let t,n=new e(e.get("script#documentation_options"));return null!==n.$&&(t=n.$.dataset.url_root),null==t&&(t=e.get("html").dataset.content_root),null==t&&(n=new e(e.get(".repotoc-tree .current")),null!==n.$&&(t=n.$.getAttribute("href").replace("index.html",""))),null==t&&(console.warn("Failed to get content root."),t=""),t}getGlobalRoot(){return document.querySelector('meta[name="global_root"]').content}search(t){"/"!==t.key||this.$.searchArea.classList.contains("on")?"Escape"===t.code&&this.$.searchArea.classList.contains("on")&&(e.switchState(this.$.searchArea),e.switchState(this.$.searchAreaBg)):(e.switchState(this.$.searchArea),e.switchState(this.$.searchAreaBg),this.$.searchInput.focus(),this.$.searchInput.$.select())}related(e){if(!e.altKey||!e.shiftKey)return;let t=e.ctrlKey&&location.href.split("#").length>1?`#${location.href.split("#")[1]}`:"";"ArrowLeft"==e.code&&this.$.relatedPrev?location.href=this.$.relatedPrev.href+t:"ArrowRight"==e.code&&this.$.relatedNext&&(location.href=this.$.relatedNext.href+t)}keyUp(e){switch(e.key){case"ArrowLeft":case"ArrowRight":this.related(e);break;case"/":this.search(e)}"Escape"===e.code&&this.search(e)}init(){onresize=()=>{this.handleResize()},onscroll=()=>{this.handleScroll()},document.addEventListener("keyup",(e=>{this.keyUp(e)}),!1),this.dynamic()}dynamic(){if(this.offline)return void console.log("navigation: dynamic features are not available in offline mode");let t=this.$;t.repotocTreeOverlay=new e(e.get(".repotoc-tree.overlay root")),t.repotocTreeSidebar=new e(e.get(".sphinxsidebar .repotoc-tree root")),t.banner=new e(e.get(".banner"));let n=e=>{"repotoc"in e&&this.dynamicRepoToc(e.repotoc),"banner"in e&&this.dynamicBanner(e.banner)},r=localStorage.getItem("metadata");null!==r&&(r=JSON.parse(r));let o=new Date(0);if(o.setHours(3),null===r||r.timestamp+o.valueOf()<Date.now()){let e=`${this.globalRoot}doctools/metadata.json`;fetch(e,{method:"Get",headers:{"Content-Type":"application/json"}}).then((e=>{if(!0===e.ok)return e.json()})).then((e=>{e&&(n(e),e.timestamp=Date.now(),localStorage.setItem("metadata",JSON.stringify(e)))})).catch((e=>{}))}else n(r)}dynamicRepoToc(t){let n=this.$,r="index.html",o=[],s=[];for(const[n,o]of Object.entries(t)){if(!("name"in o))continue;let t=n==this.repo[0]?this.contentRoot:`${this.globalRoot}${n}/`;if("topic"in o)for(const[a,i]of Object.entries(o.topic)){if("string"!=typeof i)continue;let o=new e("a",{href:`${t}${a}/${r}`,className:this.repo.join("/")===`${n}/${a}`?"current":""});o.innerText=i,s.push(o)}else s.push(new e("a",{href:`${t}${r}`,className:this.repo[0]===n?"current":"",innerText:o.name}))}s.forEach((e=>{o.push(e.cloneNode(!0))})),n.repotocTreeOverlay.$&&(n.repotocTreeOverlay.removeChilds(),n.repotocTreeOverlay.append(o)),n.repotocTreeSidebar.$&&(n.repotocTreeSidebar.removeChilds(),n.repotocTreeSidebar.append(s))}dynamicBanner(t){let n=this.$;"msg"in t&&n.banner.append(new e("span",{innerText:t.msg})),"a_href"in t&&"a_text"in t&&n.banner.append(new e("a",{href:t.a_href,innerText:t.a_text,target:"_blank"}))}setState(e,t){e.forEach((e=>{t?e.classList.add("on"):e.classList.remove("on")}))}getOSTheme(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}};function n(){window.app={},app.navigation=t,app.navigation.init()}return n(),n}));
//# sourceMappingURL=app.umd.js.map
