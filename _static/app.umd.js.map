{"version":3,"file":"app.umd.js","sources":["../scripts/event.js","../scripts/state.js","../scripts/toolbox.js","../scripts/dom.js","../scripts/fetch.js","../scripts/navigation.js","../scripts/hot_reload.js","../scripts/app.js"],"sourcesContent":["export const DispatchEvent = (ev, obj) => {\n  const event = new CustomEvent(ev, {\n    detail: obj\n  });\n  window.dispatchEvent(event);\n}\n\nexport const WaitEvent = (obj, attr, ev) => {\n  if (Object.hasOwn(obj, attr))\n    return obj[attr]\n  else\n    return new Promise((resolve) => {\n      window.addEventListener(\n        ev, (e) => {\n          resolve(e.detail)\n        },\n        { once: true }\n      )\n    })\n}\n","\"use strict\";\n\n/**\n * repository: from html meta tag\n * version: v0.0.1, main, staging/new_feature\n * offline: if no webserver, direct file://\n * theme: dark/light\n * content_root: relative path to reach the current doc root page\n * subhost: \"/docs/$repository\", \"/$repository\" (github.io), \"\" (single doc), \"file://...\" (offline)\n * path: \"v0.0.1\", \"\", \"prs/staging/new_feature\"\n * reloaded: page was reloaded\n * metadata: metadata.json, fetched later by fetch.js, if state allows\n * collection: collection.json, fetched later by content_actions.js, if state allows\n * tags: tags.json, fetched later by extra version_dropdown.js\n * standalone: isolated doc, disable multi-repo integrations\n */\nconst state = {\n  repository: undefined,\n  version: undefined,\n  offline: undefined,\n  theme: undefined,\n  content_root: undefined,\n  subhost: undefined,\n  path: undefined,\n  reloaded: undefined,\n  metadata: undefined,\n  collection: undefined,\n  tags: undefined,\n  standalone: undefined\n}\n\n/**\n * Creates the common state of the documentation.\n */\nexport class State {\n  constructor (app) {\n    this.init_state(state)\n\n    this.parent = app\n    app.state = state\n  }\n  /**\n   * Get repository name, e.g.\n   * doctools, hdl, pyadi-iio\n   */\n  repository () {\n    let dom = document.querySelector('meta[name=\"repository\"]')\n    return dom ? dom.content : ''\n  }\n  /**\n   * Get meta[name=\"version\"] of doc, e.g.\n   * main, v0.2.2, staging/new_feature\n   * This is the hard-coded value and may be outdated,\n   * so inhering from path has higher precedence.\n   * Should only be used as a fallback.\n   */\n  version () {\n    let dom = document.querySelector('meta[name=\"version\"]')\n    if (dom === null)\n      return \"\"\n\n    return dom.content\n  }\n  /**\n   * Get relative path to the root.\n   * Dual fallback to support multiple Sphinx versions.\n   */\n  static content_root (doc) {\n    let content_root\n    let dom = doc.querySelector('script#documentation_options')\n    if (dom !== null)\n      content_root = dom.dataset['url_root'];\n    if (content_root == undefined)\n      content_root = doc.documentElement.dataset[\"content_root\"]\n    if (content_root == undefined) {\n      dom =  doc.querySelector('.repotoc-tree .current')\n      if (dom !== null)\n        content_root = dom.getAttribute('href').replace('index.html', '')\n    }\n    if (content_root == undefined) {\n      console.warn(\"Failed to get content root.\")\n      content_root = ''\n    }\n    return content_root\n  }\n  /**\n   * Checks if doc is in a path beyond the server root,\n   * e.g.\n   * /docs/doctools, /docs/doctools/v0.2.2 -> /docs/doctools\n   * /doctools, /doctools/v0.2.2 -> /doctools\n   * / , /v0.2.2 -> (empty)\n   * For correctness, the html meta repository tag must match the url repository.\n   */\n  subhost (content_root, repository) {\n    let doc_root   = new URL(content_root, location).href,\n        no_docs    = new URL(repository, location.origin).href,\n        under_docs = new URL(`docs/${repository}`, location.origin).href\n    if (doc_root.startsWith(under_docs))\n      return `/docs/${repository}`\n    else if (doc_root.startsWith(no_docs))\n      return `/${repository}`\n    else\n      return ''\n  }\n  /**\n   * Get absolute path to doc,\n   * e.g.\n   * file://../docs/doctools, file://../docs/doctools/v0.2.2 -> file://../docs/doctools\n   * For correctness, the html meta repository tag must match the url repository.\n   */\n  subhost_offline (content_root, repository) {\n    let doc_root = new URL(content_root, location).href\n    let index = doc_root.search(\"/_build/html\")\n    if (index !== -1)\n      return doc_root.substring(0, index + \"/_build/html\".length)\n    index = doc_root.search(repository)\n    if (index !== -1)\n      return doc_root.substring(0, index + repository.length)\n    return undefined\n  }\n  /**\n   * Extract path of versioned version, without repository name\n   * /doctools -> \"\"\n   * / -> \"\"\n   * /docs/doctools/v1.1.1 -> \"v1.1.1\"\n   * /doctools/v1.1.1 -> \"v1.1.1\"\n   * /v1.1.1 -> \"v1.1.1\"\n   */\n  path (content_root, subhost) {\n    let url = new URL(content_root, location).href,\n        org = new URL(subhost, location.origin).href\n    if (!url.startsWith(org))\n      return \"\"\n    else\n      return url.replace(org, \"\").replace(/^\\/|\\/$/g, \"\")\n  }\n  /**\n   * Extract path of versioned version, without repository name\n   * file://../doctools -> \"\"\n   * file://../doctools/v1.1.1 -> \"v1.1.1\"\n   */\n  path_offline (content_root, subhost) {\n    if (subhost === undefined)\n      return undefined\n    let url = new URL(content_root, location).href,\n        org = subhost\n    if (!url.startsWith(org))\n      return \"\"\n    else\n      return url.replace(org, \"\").replace(/^\\/|\\/$/g, \"\")\n  }\n  /**\n   * Detects if the page was reloaded by the user.\n   * This information is to use to force reload of cached content.\n   */\n  reloaded () {\n    if (!window.performance)\n      return false\n\n    return performance.navigation.type === performance.navigation.TYPE_RELOAD\n  }\n  /**\n   * Disable integrations.\n   */\n  standalone () {\n    return document.querySelector('meta[name=\"standalone\"]') ? true : false\n  }\n  /**\n   * Init app state object.\n   */\n  init_state (state) {\n    state.repository = this.repository()\n    state.version = this.version()\n    state.offline = 'file:' == window.location.protocol\n    state.theme = localStorage.getItem('theme')\n    state.content_root = State.content_root(document)\n    if (!state.offline) {\n      state.subhost = this.subhost(state.content_root, state.repository)\n      state.path = this.path(state.content_root, state.subhost)\n    } else {\n      state.subhost = this.subhost_offline(state.content_root, state.repository)\n      state.path = this.path_offline(state.content_root, state.subhost)\n    }\n    state.reloaded = this.reloaded()\n    state.standalone = this.standalone()\n  }\n}\n","\"use strict\";\n\nexport {Toolbox}\n\n/**\n * Provides useful generic functions.\n */\nclass Toolbox {\n  /**\n   * Get random char.\n   */\n  static randomChar () {\n    const alphabet = \"abcdefghijklmnopqrstuvwxyz\"\n    return alphabet[Math.floor(Math.random() * alphabet.length)]\n  }\n /**\n  * Generate a unique identifier.\n  */\n  static UID () {\n    return this.randomChar() + (+new Date).toString(36) + Math.random().toString(36).substring(3)\n  }\n /**\n  * Generate a small non-timed identifier.\n  */\n  static SID () {\n    return this.randomChar() + (Math.random()).toString(36).substring(3,8)\n  }\n  /**\n   * Return param from url search parami, if unset, return the default.\n   * @param {string} _param - Parameter to search in the array.\n   * @return Requested parameter.\n   */\n  static fromUrl (_param) {\n    let param = new URLSearchParams(document.location.search)\n    return param.get(_param) == null ?\n      this.urlDefaults(_param) : this.urlValidParams(_param, param.get(_param))\n  }\n  /**\n   * Default url parameters values if not set\n   * @param {string} _param - Parameter to return the default.\n   * @return Default parameter.\n   */\n  static urlDefaults (_param) {\n    switch (_param) {\n      case 'theme':\n        return 'light'\n    }\n  }\n  /**\n   * Valid parameters, if a invalid is passed, will return the default.\n   */\n  static urlValidParams (_param, value) {\n    switch (_param) {\n      case 'theme':\n        return ['dark', 'light'].includes(value) ? value : this.urlDefaults(_param)\n    }\n  }\n  static cleanPathname (_pathname) {\n    return _pathname.replace(/([^:]\\/)\\/+/g, \"$1\").replace(/[^:]\\.\\//g, \"$1\")\n  }\n  /**\n   * Get the depth of a path name.\n   */\n  static getDepth (_pathname) {\n    return (_pathname.match(/\\//g)||[]).length\n  }\n  /*\n   * Check if link exists, if not, redirect to second option.\n   */\n  static async try_redirect (url, fallback_url, new_tab) {\n    let url_\n    try {\n      const response = await fetch(url, {\n        method: 'HEAD'\n      })\n\n      if (response.status === 404)\n        url_ = fallback_url\n      else\n        url_ = url\n    } catch (e) {\n      url_ = fallback_url\n    }\n    if (!url_)\n      return true\n    if (new_tab)\n      window.open(url_, '_blank').focus()\n    else\n      location.href = url_\n    return false\n  }\n  /*\n   * Check if the raw content is only a include directive.\n   * If yes, resolve its path and redirect to it.\n   */\n  static async try_include (url_raw, url, new_tab) {\n    let fallback = (error) => {\n      if (new_tab)\n        window.open(url, '_blank').focus()\n      else\n        location.href = url\n    }\n    const request = new Request(url_raw)\n    await fetch (request)\n      .then(\n        (response) => {\n          if (!response.ok)\n            throw new Error(response.status)\n          return response.text()\n        })\n      .then((text) => {\n        text = text.replace(/\\n+$/, \"\")\n        if (text.startsWith(\".. include:: \") && text.split(/\\n/).length == 1) {\n          text = text.substring(13)\n          if (new_tab)\n            window.open(new URL(text, url).href, '_blank').focus()\n          else\n            location.href = new URL(text, url).href\n        } else {\n          fallback()\n        }\n      })\n      .catch(fallback)\n    return\n  }\n  /*\n   * Try to fetch every item in array.\n   */\n  static async fetch_each (urls) {\n    if (!Array.isArray(urls))\n      urls = [urls]\n\n    for (let url of urls) {\n      try {\n        const request = new Request(url)\n        const response = await fetch(request)\n\n        if (response.ok === true)\n          return {'obj': await response.json(), 'url': url}\n        else if (response.status !== 404)\n          return {'error': response, 'url': url}\n      } catch (error) {\n        return {'error': error, 'url': url}\n      }\n    }\n    return {'error': `No url returned a valid JSON, urls: ${urls}`}\n  }\n  /*\n   * Return alphanumeric sequence. Can be us used for shortcuts.\n   */\n  static get_alphanumeric () {\n    const numbers = [...Array(9).keys(), -1].map(n => (n + 1).toString())\n    const alphabet = [...Array(26).keys()].map(n => String.fromCharCode(97 + n))\n    return numbers.concat(alphabet)\n  }\n  /*\n   * Lazy method to await condition,\n   * useful for:\n   *   await waitUntil(() => this.parent.state.metadata !== undefined)\n   * When testing parts of extra.js temporally under app.js\n   */\n  static waitUntil = (condition, checkInterval=100) => {\n    return new Promise(resolve => {\n      let interval = setInterval(() => {\n        if (!condition()) return;\n        clearInterval(interval);\n        resolve();\n      }, checkInterval)\n    })\n  }\n  static reducedMotion = (force = false) => {\n    return force || window.matchMedia(`(prefers-reduced-motion: reduce)`).matches == true\n  }\n  /**\n   * Computes the longest common subsequence for two string arrays.\n   * Returns a object with added, modified and deleted.\n   */\n  static LCS = (a, b) => {\n    const m = a.length, n = b.length;\n    /* LCS table */\n    const dp = Array.from({ length: m + 1 }, () => Array(n + 1).fill(0));\n\n    for (let i = m - 1; i >= 0; i--)\n      for (let j = n - 1; j >= 0; j--)\n        dp[i][j] = a[i] === b[j]\n          ? dp[i + 1][j + 1] + 1\n          : Math.max(dp[i + 1][j], dp[i][j + 1]);\n\n    let i = 0, j = 0, added = [], deleted = [];\n    while (i < m && j < n) {\n      if (a[i] === b[j]) { i++; j++; }\n      else if (dp[i + 1][j] >= dp[i][j + 1]) { deleted.push(j); i++; }\n      else { added.push(j); j++; }\n    }\n    while (i++ < m) deleted.push(j);\n    while (j++ < n) added.push(j - 1);\n\n    // merge same-position add+delete â†’ modified\n    const A = new Set(added), D = new Set(deleted), modified = [];\n    for (const k of A) if (D.has(k)) {\n      modified.push(k);\n      A.delete(k);\n      D.delete(k);\n    }\n\n    return { added: [...A], deleted: [...D], modified };\n  }\n}\n","\"use strict\";\nexport {DOM}\n\n/** Make DOM element */\nclass DOM {\n  constructor (dom, tags){\n    this.$\n    if (typeof dom != 'string'){\n      this.$ = dom\n      return\n    }\n    this.$ = document.createElement(dom);\n    if (typeof tags == 'object') for (const tag in tags) {\n      if (tag in this.$)\n        this.$[tag] = tags[tag]\n      else\n        this.$.dataset[tag] = tags[tag]\n    }\n  }\n  /* Make DOM element, without wrapper class */\n  static new (dom, tags){\n    let elem = document.createElement(dom);\n    if (typeof tags == 'object') for (const tag in tags) {\n      if (tag in elem)\n        elem[tag] = tags[tag]\n      else\n        elem.dataset[tag] = tags[tag]\n    }\n    return elem\n  }\n  /**\n   * Clone node\n   * @param {bool} deep - If true, then the node and its whole subtree,\n   * including text that may be in child Text nodes, is also copied.\n   */\n  cloneNode (deep){\n    let node = new DOM(this.$.cloneNode(deep))\n    return node\n  }\n  /**\n   * Set DOM innerText.\n   * @param {string} str - Text to apply.\n   */\n  set innerText(str){\n    this.$.innerText = str\n  }\n  /**\n   * Get DOM innerText.\n   */\n  get innerText(){\n    return this.$.innerText\n  }\n  /** Get DOM offset height */\n  get height (){\n    return this.$.offsetHeight\n  }\n  /** Get DOM offset width */\n  get width (){\n    return this.$.offsetWidth\n  }\n  /** Get DOM id */\n  get id (){\n    return this.$.id\n  }\n  /** Set DOM id */\n  set id (str){\n    this.$.id= str\n  }\n  /** Get DOM value */\n  get value (){\n    return this.$.value\n  }\n  /** Set DOM value */\n  set value (str){\n    this.$.value = str\n  }\n  /** Get DOM src */\n  get src (){\n    return this.$.src\n  }\n  /** Set DOM src */\n  set src (str){\n    this.$.src = str\n  }\n  /**\n   * Focus on DOM.\n   */\n  focus (){\n    this.$.focus()\n  }\n  /** Get DOM classList object. */\n  get classList(){\n    return this.$.classList\n  }\n  /** Get DOM style object. */\n  get style(){\n    return this.$.style\n  }\n  /**\n   * Append a ``onchange`` event.\n   * @param {function} ev - Function to be executed on click.\n   */\n  onchange (self, ev, args){\n    this.$.onchange = (e) => {\n      if (typeof args == 'undefined')\n        ev.apply(self, [e])\n      else if (args.constructor == Array) {\n        args.push(e)\n        ev.apply(self, args)\n      }\n    }\n    return this\n  }\n  /**\n   * Append a ``onclick`` event.\n   * @param {function} ev - Function to be executed on click.\n   */\n  onclick (self, ev, args){\n    this.$.onclick = (e) => {\n      if (typeof args == 'undefined')\n        ev.apply(self, [e])\n      else if (args.constructor == Array) {\n        args.push(e)\n        ev.apply(self, args)\n      }\n    }\n    return this\n  }\n  /**\n   * Append a ``onauxclick`` event.\n   * @param {function} ev - Function to be executed on click.\n   */\n  onauxclick (self, ev, args){\n    this.$.onauxclick = (e) => {\n      if (typeof args == 'undefined')\n        ev.apply(self, [e])\n      else if (args.constructor == Array) {\n        args.push(e)\n        ev.apply(self, args)\n      }\n    }\n    return this\n  }\n  /**\n   * Append a ``mouseup`` event.\n   * @param {function} ev - Function to be executed on up.\n   */\n  onup (self, ev, args){\n    this.$.addEventListener('mouseup', (e) => {\n      if (typeof args == 'undefined')\n        ev.apply(self, [e])\n      else if (args.constructor == Array) {\n        args.push(e)\n        ev.apply(self, args)\n      }\n    })\n    return this\n  }\n  /**\n   * Append a ``onmiddleclick`` event.\n   * @param {function} ev - Function to be executed on up.\n   */\n  onmiddleclick (self, ev, args){\n    this.$.addEventListener('mouseup', (e) => {\n      if ( e.which !== 2 )\n        return\n\n      if (typeof args == 'undefined')\n        ev.apply(self, [e])\n      else if (args.constructor == Array) {\n        args.push(e)\n        ev.apply(self, args)\n      }\n    })\n    return this\n  }\n  /**\n   * Append a ``mousedown`` event.\n   * @param {function} ev - Function to be executed on down.\n   */\n  ondown (self, ev, args){\n    this.$.addEventListener('mousedown', (e) => {\n      if (typeof args == 'undefined')\n        ev.apply(self, [e])\n      else if (args.constructor == Array) {\n        args.push(e)\n        ev.apply(self, args)\n      }\n    })\n    return this\n  }\n  /**\n   * Append a ``mousemove`` and ``touchmove`` event.\n   * @param {function} ev - Function to be executed on move.\n   */\n  onmove (self, ev, args){\n    this.$.addEventListener('mousemove', (e) => {\n      if (typeof args == 'undefined')\n        ev.apply(self, [e])\n      else if (args.constructor == Array) {\n        args.push(e)\n        ev.apply(self, args)\n      }\n    })\n    return this\n  }\n  /**\n   * Append a event listener.\n   * @param {string} event - Event listener name.\n   * @param {function} fun - Function to be executed on move.\n   * @param {function} args - Arguments to be applied to the function.\n   */\n  onevent (event, self, fun, args){\n    this.$.addEventListener(event, (e) => {\n      if (typeof args == 'undefined')\n        fun.apply(self, [e])\n      else if (args.constructor == Array) {\n        args.push(e)\n        fun.apply(self, args)\n      }\n    })\n    return this\n  }\n  /**\n   * Appends others :js:func:`DOM`.\n   * @param {Object[]} DOMS - Array of :js:func:`DOM` or/and direct DOM Nodes.\n   */\n  append (DOMS){\n    if (DOMS.constructor != Array)\n      DOMS = [DOMS]\n\n    DOMS.forEach ((item) => {\n      if (/HTML(.*)Element/.test(item.constructor.name))\n        this.$.appendChild(item)\n      else if (typeof item == 'object' &&\n               /HTML(.*)Element/.test(item.$.constructor.name))\n        this.$.appendChild(item.$)\n    })\n\n    return this\n  }\n  /**\n   * Delete object.\n   */\n  delete (){\n    this.$.remove()\n    delete this\n  }\n  /**\n   * Remove childs from :js:func:`DOM` object.\n   */\n  static removeChilds (a){\n    let child = a.lastElementChild\n    while (child) {\n      a.removeChild(child)\n      child = a.lastElementChild\n    }\n  }\n  /**\n   * Get DOM Node element.\n   * @param {string} a - Target object query selector.\n   * @param {Object} b - Optional parent DOM.\n   */\n  static get (a, b){\n    b = b instanceof DOM ? b.$ : b\n    return (typeof b == 'undefined') ? document.querySelector (a) : b.querySelector(a)\n  }\n  /**\n   * Get all DOM Node elements.\n   * @param {string} a - Target object query selector.\n   * @param {Object} b - Parent DOM.\n   */\n  static getAll(a, b){\n    b = b instanceof DOM ? b.$ : b\n    return (typeof b == 'object') ? b.querySelectorAll(a) : get(b).querySelectorAll(a)\n  }\n  /**\n   * Include or remove a class to a DOM.\n   * @param {Object} b - Target DOM.\n   * @param {string} _class - Optional class, defaults to `on`.\n   */\n  static switchState (b, _class){\n    b = b instanceof DOM ? b.$ : b\n    let cn = _class != undefined ? _class : `on`\n    if (b.classList.contains(cn))\n      b.classList.remove(cn)\n    else\n      b.classList.add(cn)\n  }\n  /**\n  * Generate a unique identifier.\n  */\n  static UID (){\n    return (+new Date).toString(36) + Math.random().toString(36).substr(2)\n  }\n  /**\n   * Set a option of a select list by its innerText.\n   * @param {Object} dom - Node of the select list.\n   * @param {string} value - Inner text of the target option.\n   */\n  static setSelected (dom, value){\n    for (var i = 0; i < dom.$.options.length; i++){\n      if (dom.$.options[i].text == value){\n        dom.$.options[i].selected = true\n        return\n      }\n    }\n  }\n  /**\n   * Updates parameter of children of a DOM.\n   * Lazy because doesn't care is successful or not.\n   * Useful for generic lists, like in searches.\n   * @param {Object} dom - Container of the list.\n   * @param {string} uid - Item to search for.\n   * @param {Object} props - Properties to update, where the key is also the DOM id.\n   * @param {string} param - Parameter to update.\n   */\n  static lazyUpdate (dom, uid, props, param){\n    param = param == undefined ? 'innerText' : param\n    let element = DOM.get(`[data-uid='${uid}']`, dom)\n    for (const key in props){\n      DOM.get(`#${key}`, element)[param] = props[key]\n    }\n  }\n  /**\n   * Gets the inner text of a dom, excluding children.\n   * @param {Object} dom - Element to extract.\n   */\n  static getOwnText(elem) {\n    return Array.from(elem.childNodes)\n      .filter(n => n.nodeType === Node.TEXT_NODE)\n      .map(n => n.textContent)\n      .join(\"\");\n  }\n}\n","\"use strict\";\n\nimport {DispatchEvent} from './event.js'\nimport {Toolbox} from './toolbox.js'\nimport {DOM} from './dom.js'\n\nexport class Fetch {\n  constructor (app) {\n    let $ = this.$ = {}\n    $.head = document.querySelector('head')\n\n    this.parent = app\n    this.callback = []\n    this.base_url\n\n    this.construct()\n\n    app.fetch = this\n    DispatchEvent(\"app:fetch:constructed\")\n  }\n  /**\n   * Updates elements in a reactive manner,\n   * fetching from the main hosted doctools.\n   * Fetches metadata.json, extra.umd.js, extra.umd.css\n   * After metadata.json is fetched, its file list are also\n   * fetched, if any.\n   * Depending on the context, the origin changes:\n   * - sub_hosted & ip_addr: same origin\n   * - sub_hosted & domain: same origin\n   * - single_hosted | offline: remote origin\n   * That means, sub_hosted locally can be used to mock a\n   * full domain deploy, while single_hosted and offline,\n   * mostly used by user and doc writers, relies on the remote\n   * source.\n   */\n  construct () {\n    let state = this.parent.state\n    const base_url = (state.subhost === '' || state.offline === true) ?\n      new URL('https://analogdevicesinc.github.io/doctools/') :\n      new URL('doctools/', new URL(state.subhost, location.origin))\n    // Do you want to use single_hosted with same origin? use below:\n    //const base_url =\n    //  new URL(state.subhost + '/', location.origin)\n    // Testing offline? use\n    //const base_url =\n    //  new URL('http://127.0.0.1:8000/')\n\n    const response = fetch(\n      new Request(new URL('metadata.json', base_url))\n    )\n      .then(response => response)\n      .then(response => {\n        if (response.ok === true)\n          return response.json()\n        else\n          throw new Error();\n      })\n      .then(obj => this.init_metadata(obj, base_url))\n      .catch(err => {})\n\n    let script = DOM.new('script', {\n      'src': new URL('_static/extra.umd.js', base_url)\n    });\n    this.$.head.append(script)\n    let style = DOM.new('link', {\n      'rel': 'stylesheet',\n      'type': 'text/css',\n      'href': new URL('_static/extra.min.css', base_url)\n    });\n    this.$.head.append(style)\n\n    this.base_url = base_url\n  }\n  /**\n   * Append callbacks to call after metadata.json is loaded.\n   */\n  then (callback) {\n    if (this.parent.state.metadata)\n      callback()\n    else\n      this.callback.push(callback)\n  }\n  /**\n   * Attach metadata to this and call to inject extra modules.\n   */\n  init_metadata (obj, url) {\n    this.parent.state.metadata = obj\n    this.callback.forEach(cb => cb())\n\n    if ('modules' in obj)\n      this.load_modules(obj['modules'], url)\n  }\n  /**\n   * Inject any JavaScript and CSS StyleSheet listed on the metadata.\n   * The advantage is to load the latest and greatest scripts, regardless\n   * of the tools' built doc version.\n   */\n  load_modules (obj, url) {\n    if (!(url instanceof URL)) {\n      console.warn(\"Expected URL, got \", url)\n      return\n    }\n    if (!url.pathname.endsWith('/'))\n      url.pathname += '/'\n    url = new URL('_static', url)\n\n    if ('javascript' in obj) {\n      obj['javascript'].forEach((elem) => {\n        if (elem === 'extra.umd.js')\n          return\n        let script = DOM.new('script', {\n          'src': new URL(elem, url)\n        });\n        this.$.head.append(script)\n      })\n    }\n    if ('stylesheet' in obj) {\n      obj['stylesheet'].forEach((elem) => {\n        if (elem === 'extra.min.css')\n          return\n        let style = DOM.new('link', {\n          'rel': 'stylesheet',\n          'type': 'text/css',\n          'href': new URL(elem, url)\n        });\n        this.$.head.append(style)\n      })\n    }\n  }\n}\n","\"use strict\";\n\nimport {DOM} from './dom.js'\n\n/* Handle navigation, theming, search, shortcuts */\nexport class Navigation {\n  constructor (app) {\n    this.parent = app\n\n    this.portrait = false\n    this.scrollSpy = {\n      localtoc: new Map(),\n      currentLocaltoc: undefined\n    }\n\n    let $ = this.$ = {}\n    $.body = new DOM(DOM.get('body'))\n    $.content = new DOM(DOM.get('.documentwrapper .body'))\n    $.localtoc = new DOM(DOM.get('.tocwrapper > nav'))\n\n    if (this.parent.state.theme === null)\n      this.parent.state.theme = this.os_theme()\n    $.body.classList.add('js-on')\n    if (this.parent.state.theme !== this.os_theme())\n      $.body.classList.add(this.parent.state.theme)\n\n\t  $.changeTheme = new DOM('button', {\n      className: this.parent.state.theme === 'dark' ? 'icon on' : 'icon',\n      id:'theme',\n      title:'Switch theme'\n    }).onclick(this, () => {\n      $.body.classList.remove(this.parent.state.theme)\n      this.parent.state.theme = this.parent.state.theme === 'dark' ? 'light' : 'dark'\n      if (this.os_theme() == this.parent.state.theme)\n        localStorage.removeItem('theme')\n      else {\n        localStorage.setItem('theme', this.parent.state.theme)\n        $.body.classList.add(this.parent.state.theme)\n      }\n    })\n\n    $.preserve_scroll = {}\n    $.preserve_scroll['sphinxsidebarwrapper'] = new DOM(DOM.get('.sphinxsidebarwrapper'))\n\n    $.rightHeader = new DOM(DOM.get('header #right span.reverse')).append([$.changeTheme])\n\n    $.related = new DOM(DOM.get('.related'))\n\n    this.construct()\n\n    app.navigation = this\n  }\n  /*\n   * Initiates scroll spy elements.\n   */\n  init_scroll_spy () {\n    if (this.$.localtoc.$ !== null) {\n      this.prepareLocaltocMap()\n    }\n  }\n  /*\n   * De-init scroll spy elements.\n   */\n  deinit_scroll_spy () {\n    this.scrollSpy.localtoc.clear()\n    this.scrollSpy.currentLocaltoc = undefined\n  }\n  /*\n   * Prepare map for localtoc elements to be used by the scroll spy.\n   */\n  prepareLocaltocMap (){\n    let key = \"\"\n    let lt = this.scrollSpy.localtoc\n    DOM.getAll('.reference.internal', this.$.localtoc).forEach((elem) => {\n      key = elem.getAttribute(\"href\").substring(1)\n      lt.set(key, [elem, undefined])\n    })\n\n    let entries = []\n    // references\n    for (let i = 0; i < 7; i++) {\n      entries.push(...DOM.getAll(`section > h${i}`, this.$.content))\n    }\n    // doc links from singlehtml\n    entries.push(...Array.from(\n      DOM.getAll('div.toctree-wrapper.compound > span', this.$.content)))\n    // Sort entries in distance to the top\n    entries = entries.sort((a, b) => a.getBoundingClientRect().y - b.getBoundingClientRect().y)\n    entries.forEach((elem) => {\n      key = elem.id || elem.parentNode.id\n      if (lt.has(key)) {\n        lt.set(key, [lt.get(key)[0], elem])\n      }\n    })\n    // Remove not found entries\n    lt.forEach((value, key, map) => {\n      if (value[1] === undefined)\n        map.delete(key)\n    })\n  }\n  /* Update GUI based on resize event */\n  handleResize () {\n    const em = 16,\n          ss = [40, 65, 80, 105],\n          iw = window.innerWidth\n\n    this.portrait = window.innerHeight > window.innerWidth ? true : false\n\n    this.previous_size = this.current_size\n    for (let i = 0; i < ss.length; i++) {\n      if (iw < (ss[i] * em))\n        break\n      this.current_size = i\n    }\n    if (this.previous_size === this.current_size)\n      return\n\n    if (this.current_size === 3 || this.previous_size === 3) {\n      let event = new Event('change');\n      this.$.show_localtoc.$.checked = iw < (ss[3] * em) ? false : true;\n      this.$.show_localtoc.$.dispatchEvent(event)\n    }\n  }\n  /* Update GUI based on scroll event */\n  handleScroll () {\n    if (this.$.localtoc.$ !== null) {\n      // Highlight localtoc entry\n      let key_neg, key_pos, key, dist\n      let dist_pos = Number.MAX_SAFE_INTEGER\n      let dist_neg = Number.MIN_SAFE_INTEGER\n      let lt = this.scrollSpy.localtoc\n      lt.forEach((value, key_, map) => {\n        dist = value[1].getBoundingClientRect().y\n        if (dist <= 0) {\n          if (dist > dist_neg) {\n            dist_neg = dist\n            key_neg  = key_\n          }\n        } else {\n          if (dist < dist_pos) {\n            dist_pos = dist\n            key_pos  = key_\n          }\n        }\n      })\n      if (dist_pos < 5*16)\n        key = key_pos\n      else\n        key = key_neg\n\n      let clt_key = this.scrollSpy.currentLocaltoc\n      if (clt_key !== undefined && key !== clt_key)\n        lt.get(clt_key)[0].classList.remove(\"current\")\n      if (key !== undefined && key !== clt_key) {\n        lt.get(key)[0].classList.add(\"current\")\n        this.scrollSpy.currentLocaltoc = key\n      }\n    }\n  }\n  /* Related shortcut */\n  related (e) {\n    if (!e.altKey || !e.shiftKey)\n      return\n    e.preventDefault()\n\n    /* Try to anchor to same section */\n    let anchor = (e.ctrlKey && location.hash.length > 0) ? location.hash : \"\"\n\n    let dom\n    if ((e.code == 'ArrowLeft' || e.code == 'KeyA'))\n      dom = DOM.get('.prev', this.$.related)\n    else if ((e.code == 'ArrowRight' || e.code == 'KeyD'))\n      dom = DOM.get('.next', this.$.related)\n    if (!dom)\n      return\n\n    if (anchor !== \"\") {\n      let href_ = new URL(dom.href)\n      href_.hash = anchor\n      dom.href = href_\n    }\n    dom.dispatchEvent(new Event('click'))\n  }\n  keyup (e) {\n    switch (e.code) {\n      case 'ArrowLeft':\n      case 'ArrowRight':\n      case 'KeyA':\n      case 'KeyD':\n        this.related(e)\n        break\n    }\n  }\n  keydown (e) {\n    if (!e.altKey || !e.shiftKey)\n      return\n    switch (e.code) {\n      case 'ArrowLeft':\n      case 'ArrowRight':\n      case 'KeyA':\n      case 'KeyD':\n        if (e.altKey && e.shiftKey)\n          e.preventDefault()\n        return\n    }\n  }\n  /**\n   * Get OS Theme\n   */\n  os_theme () {\n    return window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? 'dark' : 'light'\n  }\n  /*\n   * Save current scroll position of DOM elements, to restore after load.\n   */\n  scroll_save () {\n    let positions = {}\n\n    for (const [key, dom] of Object.entries(this.$.preserve_scroll)) {\n      positions[key] = dom.$.scrollTop\n    }\n\n    localStorage.setItem(\"scroll_position\", JSON.stringify(positions))\n  }\n  /*\n   * Restore previous scroll position of DOM elements.\n   */\n  scroll_restore (e) {\n    let positions = localStorage.getItem(\"scroll_position\")\n    if (!positions)\n      return\n\n    positions = JSON.parse(positions)\n    for (const [key, value] of Object.entries(positions)) {\n      if (key in this.$.preserve_scroll)\n        this.$.preserve_scroll[key].$.scrollTop = value\n    }\n  }\n  renew_index(nodes, ev) {\n    nodes.forEach(node => {\n      node.tabIndex = ev.target.checked ? 0 : -1;\n    })\n  }\n  /**\n   * When elements are not visible, it is ideal to make them\n   * not tab selectable.\n   * Add listeners to check changes and update the tab index accordingly.\n   */\n  check_to_tabindex () {\n    let $ = this.$\n    $.show_localtoc = new DOM(\n      DOM.get('#input-show-localtoc')\n    ).onchange(this, this.renew_index, [$.localtoc.$.querySelectorAll('a')])\n    let event = new Event('change');\n    $.show_localtoc.$.dispatchEvent(event)\n  }\n  /**\n   * Pre-init navigation.\n   */\n  construct () {\n    onresize = () => {this.handleResize()}\n    onscroll = () => {this.handleScroll()}\n    document.addEventListener('keyup', (e) => {this.keyup(e)}, false);\n    document.addEventListener('keydown', (e) => {this.keydown(e)}, false);\n\n    this.check_to_tabindex();\n    this.handleResize()\n    this.scroll_restore();\n    addEventListener('beforeunload', (e) => {this.scroll_save(e)}, false);\n\n    this.init()\n  }\n  /**\n   * Init navigation.\n   */\n  init () {\n    this.init_scroll_spy()\n  }\n  /**\n   * De-init navigation.\n   */\n  deinit () {\n    this.deinit_scroll_spy()\n  }\n}\n","\"use strict\";\n\nimport {Toolbox} from './toolbox.js'\nimport {State} from './state.js'\nimport {DOM} from './dom.js'\n\nexport class HotReload {\n  constructor (app) {\n    this.parent = app\n    if (this.parent.state.offline === true)\n      return\n    let $ = this.$ = {}\n    $.toctree = document.querySelector('.sphinxsidebar .toc-tree')\n    $.documentwrapper = document.querySelector('.documentwrapper')\n    $.bodywrapper = document.querySelector('.documentwrapper .bodywrapper')\n    $.content = document.querySelector('.documentwrapper .body')\n    $.localtoc = document.querySelector('.localtoc nav')\n    $.tocwrapper = document.querySelector('.localtoc .tocwrapper')\n    $.related = document.querySelector('.documentwrapper .related')\n    $.breadcrumb = document.querySelector('.bodywrapper .body-header .breadcrumb')\n    $.title = document.querySelector('head title')\n\n    this.toctree = new Map()\n    this.js_script_current = new Set()\n    this.js_script_memory = new Map()\n\n    this.location_href\n    this.lock_load = false\n    this.reduced_motion\n    this.scrollY = undefined\n\n    this.construct()\n\n    app.hot_reload = this\n  }\n  regen_breadcrumb (dom) {\n    let ol = this.$.breadcrumb.firstElementChild\n    ol.innerHTML = ''\n\n    if (dom.id === \"logo\") {\n      this.$.breadcrumb.classList.add('empty')\n      return\n    }\n\n    let node = dom.parentElement.parentElement\n    let arr = []\n    while (node && node !== this.$.toctree) {\n      node = node.parentElement\n      if (node && node.tagName == 'LI') {\n        if (node.childNodes[1]) {\n          let elem = node.childNodes[1].childNodes[0]\n          arr.push(elem)\n        }\n      }\n    }\n    if (arr.length === 0)\n      this.$.breadcrumb.classList.add('empty')\n    else\n      this.$.breadcrumb.classList.remove('empty')\n    arr.reverse().forEach((elem) => {\n      const li = DOM.new('li')\n      li.append(DOM.new('a', {\n        'href': elem.href,\n        'innerText': elem.innerText\n      }))\n      ol.appendChild(li)\n    })\n  }\n  hot_links () {\n    let attach_load = (elem) => {\n      if (elem.constructor.name !== 'HTMLAnchorElement')\n        return\n      let url = new URL(elem)\n      url.hash = ''\n      let dom = this.toctree.get(url.href)\n      if (dom === undefined)\n        return\n\n      elem.onclick = (ev) => {\n        ev.preventDefault()\n        this.load(dom, elem.href, false, false)\n      }\n    }\n    document.querySelectorAll('a[href]', this.$.related).forEach(attach_load)\n    document.querySelectorAll('.reference.internal', this.$.content).forEach(attach_load)\n    document.querySelectorAll('a[href]', this.$.breadcrumb).forEach(attach_load)\n  }\n  remove_script (key) {\n    /* Nothing to do */\n  }\n  /**\n   * Adds scripts is missing, or call to regen to the updated page.\n   */\n  ensure_script (value, key, map) {\n    document.querySelector('head')?.append(value)\n\n    if (!key.startsWith(\"https://\"))\n      return\n\n    if (new RegExp(\"^https://cdn\\\\.jsdelivr\\\\.net/npm/mathjax@[^/]+/(?:es5/)?tex-mml-chtml\\\\.js$\").test(key)) {\n      // MathJax will apply on load, so only call if already loaded,\n      // instead of having to wait if it to be loaded to call.\n      if (typeof MathJax !== 'undefined')\n        MathJax.typeset()\n      // For reference only, if custom initialization was necessary\n      //else\n      //  value.onload = () => { console.log(\"MathJax loaded\") }\n    } else if (new RegExp(\"^https://cdn\\\\.jsdelivr\\\\.net/npm/mermaid@[^/]+/dist/mermaid\\\\.esm\\\\.min\\\\.mjs$\").test(key)) {\n      if (typeof Mermaid !== 'undefined')\n        Mermaid.run()\n      else\n        import(key).then(m => {\n          window.Mermaid = m.default\n          Mermaid.run()\n        })\n    }\n  }\n  get_script_key (script) {\n    if (!script.hasAttribute(\"src\"))\n      return script.innerHTML\n\n    const url = new URL(script.src)\n    url.searchParams.delete(\"v\")\n    return url.href\n  }\n  /**\n   * Synchronize added and removed scripts\n   * Scripts already in memory cannot be removed, so maintain the head is for\n   * cleanness. Instead, rules per-script exist to neutralize and re-apply when\n   * necessary\n   */\n  sync_scripts (scripts) {\n    let js_script = new Map()\n    // Append metadata extra scripts, for proper filtering\n    if (this.parent.state.metadata) {\n      this.parent.state.metadata.modules.javascript.forEach((item) => {\n        js_script.set(new URL('_static/extra.umd.js', this.parent.fetch.base_url).href)\n      })\n    }\n    for (let i = 0; i < scripts.length; i++) {\n      js_script.set(this.get_script_key(scripts[i]), scripts[i])\n    }\n    const added = [...js_script.keys()].filter(k => !this.js_script_current.has(k));\n    const removed = [...this.js_script_current.keys()].filter(k => !js_script.has(k));\n\n    removed.forEach((item) => { this.remove_script(item) })\n\n    this.js_script_current = new Set(js_script.keys())\n\n    added.forEach((item) => {\n      // already in memory\n      if (this.js_script_memory.has(item))\n        return\n      // Prepare script element\n      const script = document.createElement(\"script\");\n      const cache = js_script.get(item)\n      for (const attr of cache.attributes) {\n        script.setAttribute(attr.name, attr.value);\n      }\n      if (cache.innerHTML)\n        script.innerHTML = cache.innerHTML\n      this.js_script_memory.set(item, script)\n    })\n  }\n  /**\n   * Replaces all meta tags with the new page meta tags.\n   */\n  sync_meta (doc) {\n    document.head.querySelectorAll(\"meta\")\n      .forEach(meta => meta.remove())\n    doc.head.querySelectorAll(\"meta\")\n      .forEach(meta => document.head.appendChild(document.importNode(meta, true)))\n  }\n  /**\n   * Compensate scroll due to layout shifting (e.g. images loading)\n   */\n  scroll_compensate_layout(anchor) {\n    let settle_timeout, raf\n\n    const observer = new ResizeObserver(() => {\n      clearTimeout(settle_timeout)\n\n      cancelAnimationFrame(raf)\n      anchor.scrollIntoView()\n\n      settle_timeout = setTimeout(() => {\n        raf = requestAnimationFrame(() => {\n          observer.disconnect()\n        })\n      }, 750)\n    })\n\n    observer.observe(this.$.bodywrapper)\n  }\n  /**\n   * Highlight changed doms.\n   */\n  highlight_change (old_texts, new_texts, doms) {\n    const _apply = (elem, mod) => {\n      elem.classList.add(`highlight-${mod}`)\n      setTimeout(() => {\n        elem.classList.remove(`highlight-${mod}`)\n      }, 3000)\n    }\n    const {added, modified, deleted} = Toolbox.LCS(old_texts, new_texts)\n    for (const i of added)\n      _apply(doms[i], 'added')\n    for (const i of modified)\n      _apply(doms[i], 'modified')\n    for (const i of deleted) {\n      /* Highlight neighbours */\n      if (i >= 1 && doms.length > 2)\n        _apply(doms[i - 1], 'deleted')\n      if (i < doms.length)\n        _apply(doms[i], 'deleted')\n    }\n\n    const idx = Math.min(...added, ...modified, ...deleted)\n    if (idx !== Infinity)\n      return doms[idx]\n  }\n  replace (dom, url, txt, track_changes = false) {\n\n    const parser = new DOMParser()\n    const doc = parser.parseFromString(txt, 'text/html');\n\n    const localtoc = doc.querySelector('.localtoc nav');\n    const related = doc.querySelector('.documentwrapper .related')\n    const content = doc.querySelector('.documentwrapper .body');\n    const scripts = doc.head.querySelectorAll('script') || []\n    const title = doc.querySelector('head title')\n\n    this.sync_scripts(scripts)\n    this.sync_meta(doc)\n\n    if (!content || !localtoc) {\n      console.warn(\"page: failed to get elements for \", url)\n      return\n    }\n\n    let child, node = dom\n    if (dom.id !== \"logo\") while (node && node !== this.$.toctree) {\n      // if li child is input\n      node.classList.add('current')\n      child = node.firstElementChild\n      if (child !== null && child.type === \"checkbox\")\n        child.checked = true\n      node = node.parentElement\n    }\n    dom.scrollIntoView({\n      behavior: \"smooth\",\n      block: \"nearest\",\n      container: \"all\"\n    });\n\n    const block_selector = 'h1, h2, h3, h4, h5, h6, p, pre, pre > span, span.pre, a, ul, ol, dl, table, blockquote'\n    let old_texts, new_texts, doms\n    let changed_dom\n    if (track_changes)\n      old_texts = Array.from(this.$.content.querySelectorAll(block_selector))\n        .map(n => DOM.getOwnText(n).replace(/\\s+/g, \" \").trim());\n\n    this.parent.state.content_root = State.content_root(doc)\n    this.$.content.innerHTML = content.innerHTML\n    this.$.localtoc.innerHTML = localtoc.innerHTML\n\n    if (track_changes) {\n      let doms = Array.from(this.$.content.querySelectorAll(block_selector))\n      new_texts = doms\n        .map(n => DOM.getOwnText(n).replace(/\\s+/g, \" \").trim());\n      if (old_texts.length > 0)\n        changed_dom = this.highlight_change(old_texts, new_texts, doms)\n    }\n    this.$.related.innerHTML = related.innerHTML\n    this.$.title.innerText = title.innerText\n\n    this.regen_breadcrumb(dom)\n    for (const key in this.parent) {\n      if (\"init\" in this.parent[key])\n        this.parent[key].init()\n    }\n    this.$.bodywrapper.classList.remove('fetch')\n    this.$.tocwrapper.classList.remove('fetch')\n    this.$.loader.classList.remove('fetch')\n\n\n    this.js_script_memory.forEach(this.ensure_script)\n\n    this.hot_links()\n\n    if (!this.reduced_motion && !track_changes)\n      window.scrollTo({ top: 0, left: 0, behavior: \"instant\" })\n    if (track_changes) {\n      if (changed_dom) {\n        const rect = changed_dom.getBoundingClientRect();\n        if (rect.bottom < 0 || rect.top > window.innerHeight)\n          changed_dom.scrollIntoView({ behavior: 'auto', block: 'center' })\n        else {\n          window.scrollTo({ top: this.scrollY, left: 0, behavior: \"instant\" })\n        }\n      } else {\n        window.scrollTo({ top: this.scrollY, left: 0, behavior: \"instant\" })\n      }\n    } else if (url.hash && isNaN(this.scrollY)) {\n      setTimeout(() => {\n        let anchor = document.querySelector(`${url.hash}`)\n        if (anchor) {\n          anchor.scrollIntoView({ behavior: 'auto' })\n          this.scroll_compensate_layout(anchor)\n        }\n      }, this.reduced_motion ? 0 : 125)\n    } else if (!isNaN(this.scrollY)) {\n      window.scrollTo({ top: this.scrollY, left: 0, behavior: \"instant\" })\n      if (!this.reduced_motion)\n        setTimeout(() => {\n          window.scrollTo({ top: this.scrollY, left: 0, behavior: \"auto\" })\n          this.scrollY = undefined\n        }, 125) /* Correction due to Z-transform */\n      else\n        this.scrollY = undefined\n    }\n    this.$.content.style.minHeight = \"\"\n\n    this.lock_load = false\n  }\n  /**\n   * track_changes forces fetching and replacing, even if is the same page.\n   * state: popstate event state or false to store current state.\n   */\n  load (dom, pathname, state, track_changes = false) {\n    if (pathname === '#' || this.lock_load === true)\n      return\n\n    this.reduced_motion = Toolbox.reducedMotion(track_changes && location.href === pathname)\n\n    let current_url = new URL(this.location_href)\n    let request_url = new URL(pathname, current_url)\n    let is_same_page = false\n    this.location_href = request_url.href\n    if (current_url.pathname === request_url.pathname &&\n        current_url.origin === request_url.origin) {\n      is_same_page = true\n      if (!track_changes) {\n        const hash = request_url.hash === '' ? '#top-anchor': request_url.hash\n        if (state === false) {\n          location.hash = hash\n        } else {\n          const dom_ = document.querySelector(hash)\n          if (dom_)\n            dom_.scrollIntoView()\n          history.replaceState({}, \"\", hash)\n        }\n        return\n      } else {\n        this.scrollY = window.scrollY\n      }\n    }\n    this.lock_load = true\n    // Push even before fetching, so in case of failure the user can easily\n    // reload the page\n    if (state === false) {\n      if (current_url.pathname !== request_url.pathname) {\n        /* If visiting a new page, store last scroll position */\n        const new_state = {\n          scrollY: window.scrollY\n        }\n        history.replaceState(new_state, \"\", current_url)\n      }\n      history.pushState({}, '', request_url.href)\n    } else if (state !== null) {\n      if (Object.hasOwn(state, 'scrollY'))\n        this.scrollY = state.scrollY\n    }\n\n    this.$.content.style.minHeight = this.$.content.getBoundingClientRect().height + \"px\"\n\n    let loader_\n    if (!track_changes || !is_same_page) {\n      this.$.tocwrapper.classList.add('fetch')\n      this.$.bodywrapper.classList.add('fetch')\n      loader_= setTimeout(() => {\n        this.$.loader.classList.add('fetch')\n      }, 500)\n      if (this.$.loader.classList.contains('fail')) {\n        this.$.loader.classList.add('fetch')\n        this.$.loader.classList.remove('fail')\n      }\n    }\n\n    setTimeout(() =>  {\n      const keys = Object.keys(this.parent).reverse()\n      keys.forEach(key => {\n        if (\"deinit\" in this.parent[key])\n          this.parent[key].deinit()\n      })\n    }, this.reduced_motion ? 0 : 120)\n\n    DOM.getAll('.current', this.$.toctree).forEach((elem) => {\n      elem.classList.remove('current')\n    })\n\n    if (track_changes)\n      request_url.searchParams.append(Toolbox.UID(), '')\n    const time_ = Date.now()\n    const response = fetch(\n      new Request(request_url)\n    )\n      .then(response => response)\n      .then(response => response.text())\n      .then(txt => {\n        const timeout = this.reduced_motion ? 0 : 125 - (Date.now() - time_)\n        const body_= setTimeout(() => {\n          this.replace(dom, request_url, txt, is_same_page ? track_changes : false)\n        }, timeout)\n      })\n      .catch(error => {\n        this.$.tocwrapper.classList.add('fetch')\n        this.$.bodywrapper.classList.add('fetch')\n        this.$.loader.classList.add('fail')\n      })\n      .finally(() => {\n        if (loader_ !== undefined)\n          clearTimeout(loader_)\n      })\n  }\n  init_toctree () {\n    const append_load = (dom, alt_dom) => {\n      if (alt_dom === undefined)\n        alt_dom = dom\n      // Make absolute and strip trailing #\n      alt_dom.href = alt_dom.href.replace(/#$/, '')\n      this.toctree.set(alt_dom.href, alt_dom)\n\n      alt_dom.onclick = (ev) => {\n        ev.preventDefault()\n        this.load(dom, alt_dom.href, false, false)\n      }\n    }\n    DOM.getAll('.reference.internal', this.$.toctree)\n      .forEach(dom => append_load(dom))\n    const alt_dom = DOM.get('.sphinxsidebarwrapper > a')\n    const dom = DOM.get('header a#logo')\n    append_load(dom, alt_dom)\n    append_load(dom)\n  }\n  init_others () {\n    // Map scripts\n    const scripts = document.querySelector('head')?.querySelectorAll('script') || []\n    for (let i = 0; i < scripts.length; i++) {\n      const key = this.get_script_key(scripts[i])\n\n      this.js_script_current.add(key)\n      this.js_script_memory.set(key, scripts[i])\n    }\n  }\n  init_loader() {\n    let sides = []\n    for (let j = 0; j < 2; j++) {\n      const side = DOM.new('div', {\n        'className': `wave-spinner-${j}`\n      });\n      let bars = []\n      for (let i = 0; i < 7; i++) {\n        const bar = DOM.new('span');\n        bar.style.animationDelay = `${i * 0.1}s`;\n        bars.push(bar);\n      }\n      bars.forEach((node) => { side.append(node) })\n      sides.push(side)\n    }\n    sides.push(DOM.new('div', {\n      'className': 'text'\n    }))\n    sides.push(DOM.new('div', {\n      'className': 'subtext'\n    }))\n\n    this.$.loader = DOM.new('div', {\n      'id': 'loader'\n    })\n    sides.forEach((node) => { this.$.loader.append(node) })\n    this.$.documentwrapper.append(this.$.loader)\n  }\n  popstate (ev) {\n    let url = new URL(location.href)\n    url.hash = ''\n    let dom = this.toctree.get(url.href)\n    if (dom !== undefined)\n      this.load(dom, location.href, ev.state, false)\n    else // Fallback\n      location.href = location.href\n  }\n  /**\n   * Hot reload the toctree.\n   */\n  load_toctree (toctree_url, reselect) {\n    const checked_names = new Set()\n    DOM.getAll('input.toctree-collapse:checked', this.$.toctree).forEach(input => {\n      checked_names.add(input.name)\n    })\n\n    toctree_url.searchParams.append(Toolbox.UID(), '')\n    return fetch(\n      new Request(toctree_url)\n    )\n      .then(response => response.text())\n      .then(txt => {\n        this.$.toctree.innerHTML = txt\n\n        const content_root = this.parent.state.content_root\n        DOM.getAll('a[href]', this.$.toctree).forEach(a => {\n          a.href = content_root + a.getAttribute('href')\n        })\n\n        this.toctree.clear()\n        this.init_toctree()\n\n        checked_names.forEach(name => {\n          const input = this.$.toctree.querySelector(`input[name=\"${name}\"]`)\n          if (input) input.checked = true\n        })\n\n        if (reselect) {\n          let current_url = new URL(this.location_href)\n          current_url.hash = ''\n          let node = this.toctree.get(current_url.href)\n          if (node) {\n            while (node && node !== this.$.toctree) {\n              node.classList.add('current')\n              node = node.parentElement\n            }\n          }\n        }\n      })\n      .catch(error => {\n        console.warn(\"hot_reload: failed to fetch at load_toctree\", error)\n      })\n  }\n  /**\n   * Expose load call to arbitrary consumers, like dev-pool.js.\n   */\n  load_href (url) {\n    url.hash = ''\n    let dom = this.toctree.get(url.href)\n    if (dom !== undefined)\n      this.load(dom, url.href, false, true)\n    else {\n      location.href = url.href\n    }\n  }\n  /**\n   * If some of the elements are missing in the page,\n   * create\n   */\n  ensure_dom () {\n    if (this.$.related === null) {\n      this.$.related = DOM.new('div', {\n        className: 'related'\n      })\n      this.$.documentwrapper.insertAdjacentElement('beforeend', $.related)\n    }\n  }\n  construct () {\n    this.location_href = location.href\n\n    this.ensure_dom()\n    this.init_toctree()\n    this.init_others()\n    this.init_loader()\n    this.hot_links()\n    onpopstate = (ev) => {this.popstate(ev)}\n  }\n}\n","import { DispatchEvent } from './event.js'\nimport { State } from './state.js'\nimport { Fetch } from './fetch.js'\nimport { Navigation } from './navigation.js'\nimport { HotReload } from './hot_reload.js'\n\nexport default function App () {\n  window.app = {}\n\n  DispatchEvent(\"app:created\")\n\n  new State(app)\n  new Fetch(app)\n  let on_ready = () => {\n    new Navigation(app)\n    new HotReload(app)\n  }\n\n  if (document.readyState === 'loading')\n    document.addEventListener('DOMContentLoaded', on_ready, { once: true });\n  else\n    on_ready()\n}\n\nApp()\n"],"names":["DispatchEvent","ev","obj","event","CustomEvent","detail","window","dispatchEvent","state","repository","undefined","version","offline","theme","content_root","subhost","path","reloaded","metadata","collection","tags","standalone","State","constructor","app","this","init_state","parent","dom","document","querySelector","content","doc","dataset","documentElement","getAttribute","replace","console","warn","doc_root","URL","location","href","no_docs","origin","under_docs","startsWith","subhost_offline","index","search","substring","length","url","org","path_offline","performance","navigation","type","TYPE_RELOAD","protocol","localStorage","getItem","Toolbox","randomChar","alphabet","Math","floor","random","UID","Date","toString","SID","fromUrl","_param","param","URLSearchParams","get","urlDefaults","urlValidParams","value","includes","cleanPathname","_pathname","getDepth","match","try_redirect","fallback_url","new_tab","url_","fetch","method","status","e","open","focus","try_include","url_raw","fallback","error","request","Request","then","response","ok","Error","text","split","catch","fetch_each","urls","Array","isArray","json","get_alphanumeric","numbers","keys","map","n","String","fromCharCode","concat","static","condition","checkInterval","Promise","resolve","interval","setInterval","clearInterval","force","matchMedia","matches","a","b","m","dp","from","fill","i","j","max","added","deleted","push","A","Set","D","modified","k","has","delete","DOM","$","createElement","tag","elem","cloneNode","deep","innerText","str","height","offsetHeight","width","offsetWidth","id","src","classList","style","onchange","self","args","apply","onclick","onauxclick","onup","addEventListener","onmiddleclick","which","ondown","onmove","onevent","fun","append","DOMS","forEach","item","test","name","appendChild","remove","removeChilds","child","lastElementChild","removeChild","getAll","querySelectorAll","switchState","_class","cn","contains","add","substr","setSelected","options","selected","lazyUpdate","uid","props","element","key","getOwnText","childNodes","filter","nodeType","Node","TEXT_NODE","textContent","join","Fetch","head","callback","base_url","construct","init_metadata","err","script","new","rel","cb","load_modules","pathname","endsWith","Navigation","portrait","scrollSpy","localtoc","Map","currentLocaltoc","body","os_theme","changeTheme","className","title","removeItem","setItem","preserve_scroll","rightHeader","related","init_scroll_spy","prepareLocaltocMap","deinit_scroll_spy","clear","lt","set","entries","sort","getBoundingClientRect","y","parentNode","handleResize","ss","iw","innerWidth","innerHeight","previous_size","current_size","Event","show_localtoc","checked","handleScroll","key_neg","key_pos","dist","dist_pos","Number","MAX_SAFE_INTEGER","dist_neg","MIN_SAFE_INTEGER","key_","clt_key","altKey","shiftKey","preventDefault","anchor","ctrlKey","hash","code","href_","keyup","keydown","scroll_save","positions","Object","scrollTop","JSON","stringify","scroll_restore","parse","renew_index","nodes","node","tabIndex","target","check_to_tabindex","onresize","onscroll","init","deinit","HotReload","toctree","documentwrapper","bodywrapper","tocwrapper","breadcrumb","js_script_current","js_script_memory","location_href","lock_load","reduced_motion","scrollY","hot_reload","regen_breadcrumb","ol","firstElementChild","innerHTML","parentElement","arr","tagName","reverse","li","hot_links","attach_load","load","remove_script","ensure_script","RegExp","MathJax","typeset","Mermaid","run","import","default","get_script_key","hasAttribute","searchParams","sync_scripts","scripts","js_script","modules","javascript","cache","attr","attributes","setAttribute","sync_meta","meta","importNode","scroll_compensate_layout","settle_timeout","raf","observer","ResizeObserver","clearTimeout","cancelAnimationFrame","scrollIntoView","setTimeout","requestAnimationFrame","disconnect","observe","highlight_change","old_texts","new_texts","doms","_apply","mod","LCS","idx","min","Infinity","txt","track_changes","DOMParser","parseFromString","behavior","block","container","block_selector","changed_dom","trim","loader","scrollTo","top","left","rect","bottom","isNaN","minHeight","reducedMotion","loader_","current_url","request_url","is_same_page","dom_","history","replaceState","new_state","pushState","hasOwn","time_","now","timeout","finally","init_toctree","append_load","alt_dom","init_others","init_loader","sides","side","bars","bar","animationDelay","popstate","load_toctree","toctree_url","reselect","checked_names","input","load_href","ensure_dom","insertAdjacentElement","onpopstate","App","on_ready","readyState","once"],"mappings":"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"}